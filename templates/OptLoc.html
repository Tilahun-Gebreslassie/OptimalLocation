<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script><!--Bootstrap CSS-->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">

  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  <link rel="stylesheet" type="text/css" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css">

    <link href="https://cdnjs.cloudflare.com/ajax/libs/ol3/4.6.5/ol.css" type="text/css" media="all" rel="stylesheet">
    <link href="/static/gis/css/ol3.css" type="text/css" media="all" rel="stylesheet">
    <script src="/static/admin/js/vendor/jquery/jquery.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ol3/4.6.5/ol.js"></script>
    <script src="/static/admin/js/jquery.init.js"></script>
    <script src="/static/gis/js/OLMapWidget.js"></script>
    <script src="/static/admin/js/core.js"></script>
    <script src="/static/admin/js/admin/RelatedObjectLookups.js"></script>
    <script src="/static/admin/js/actions.js"></script>
    <script src="/static/admin/js/urlify.js"></script>
    <script src="/static/admin/js/prepopulate.js"></script>
    <script src="/static/admin/js/vendor/xregexp/xregexp.js"></script>
  <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
  <title>Finding Optimal Location</title>
</head>
<style>
  input {
    max-width:300px;
  }
  #map {
      width: 100%;
      height: 100%;
  }
</style>
{% load crispy_forms_tags %}
{% load static %}
<body>

<!--Navbar-->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
  <a class="navbar-brand" href="#" ><h1>Optimal Location</h1></a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarText" aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarText">
    <ul class="navbar-nav mr-auto">
      {% if user.is_authenticated %}

      <li class="nav-item">
        <a class="nav-link" href="/logout">Logout</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#">Welcome, {{user.username}}</a>
      </li>

      {% else %}

      <li class="nav-item">
        <a class="nav-link" href="/login">Login</a>
      </li>

      {% endif %}
    </ul>
  </div>
</nav>

<h1> Welcome To Optimal Location finder for store locations </h1>
<form action="" method="post" class="form-group" style="padding-left:30px">
    {% csrf_token %}
    {{ form | crispy }}
    <input type="submit" class="btn btn-success" value="Find Optimal Location">
</form>

{% if Optimal_Location != '' %}

{% if Optimal_Location == 'NotFound'%}
<h2> Not enough data available for this region ({{form.region.value}}) at the moment</h2>
{% else %}

<h2>The Optimal store location is at: {{ Optimal_Location }} </h2>
<h2> The Optimal store city is at: {{ Optimal_City }} </h2>

<style type="text/css">
    #id_mpoly_map { width: 1000px; height: 400px; }
    #id_mpoly_map .aligned label { float: inherit; }
    #id_mpoly_div_map { max-width: 100%; position: relative; vertical-align: top; float: left; }
    #id_mpoly { display: none; }

</style>
<div id="id_mpoly_div_map">
    <div id="id_mpoly_map"></div>
    <span class="clear_features"><a href="javascript:geodjango_mpoly.clearFeatures()">Delete all Features</a></span>

    <textarea id="id_mpoly" class="vSerializedField required" cols="150" rows="10" name="mpoly">{ &quot;type&quot;: &quot;MultiPolygon&quot;, &quot;coordinates&quot;: [ [ [ [ 1459385.498256709892303, 6747798.989944039843976 ], [ 1459393.0, 6747799.0 ], [ 1459575.0, 6747799.0 ], [ 1459676.0, 6747799.0 ], [ 1459726.0, 6747724.0 ], [ 1459801.0, 6747599.0 ], [ 1460026.0, 6747550.0 ], [ 1460100.0, 6747700.0 ], [ 1460176.0, 6747700.0 ], [ 1460251.0, 6747600.0 ], [ 1460251.0, 6747475.0 ], [ 1460276.0, 6747425.0 ], [ 1460401.0, 6747375.0 ], [ 1460426.0, 6747300.0 ], [ 1460426.0, 6747200.0 ], [ 1460426.0, 6747125.0 ], [ 1460501.0, 6747050.0 ], [ 1460676.0, 6747026.0 ], [ 1460776.0, 6746976.0 ], [ 1460927.0, 6746776.0 ], [ 1461077.0, 6746451.0 ], [ 1460977.0, 6746376.0 ], [ 1460927.0, 6746301.0 ], [ 1460952.0, 6746251.0 ], [ 1461102.0, 6746102.0 ], [ 1461277.0, 6745977.0 ], [ 1461453.0, 6745877.0 ], [ 1461528.0, 6745827.0 ], [ 1461603.0, 6745752.0 ], [ 1461653.0, 6745752.0 ], [ 1461728.0, 6745777.0 ], [ 1461803.0, 6745777.0 ], [ 1461978.0, 6745578.0 ], [ 1462128.0, 6745528.0 ], [ 1462203.0, 6745578.0 ], [ 1462328.0, 6745603.0 ], [ 1462453.0, 6745528.0 ], [ 1462628.0, 6745478.0 ], [ 1462853.0, 6745579.0 ], [ 1462977.0, 6745679.0 ], [ 1463127.0, 6745679.0 ], [ 1463352.0, 6745679.0 ], [ 1463477.0, 6745729.0 ], [ 1463627.0, 6745679.0 ], [ 1463853.0, 6745480.0 ], [ 1464228.0, 6745305.0 ], [ 1464503.0, 6745206.0 ], [ 1464603.0, 6745106.0 ], [ 1464878.0, 6745006.0 ], [ 1465078.0, 6744882.0 ], [ 1465253.0, 6744907.0 ], [ 1465378.0, 6744907.0 ], [ 1465428.0, 6744807.0 ], [ 1465503.0, 6744782.0 ], [ 1465703.0, 6744732.0 ], [ 1466704.0, 6744084.0 ], [ 1467278.0, 6744534.0 ], [ 1467478.0, 6744409.0 ], [ 1467578.0, 6744284.0 ], [ 1467628.0, 6744160.0 ], [ 1467853.0, 6744285.0 ], [ 1468028.0, 6744335.0 ], [ 1468328.0, 6744335.0 ], [ 1468428.0, 6744411.0 ], [ 1468577.0, 6744811.0 ], [ 1468727.0, 6744836.0 ], [ 1468877.0, 6744986.0 ], [ 1469002.0, 6745036.0 ], [ 1469102.0, 6745036.0 ], [ 1469152.0, 6745011.0 ], [ 1469252.0, 6744886.0 ], [ 1469327.0, 6744886.0 ], [ 1474396.0, 6748241.0 ], [ 1474571.0, 6748366.0 ], [ 1476045.0, 6748767.0 ], [ 1480282.0, 6750000.0 ], [ 1480875.0, 6750146.0 ], [ 1481428.0, 6750325.0 ], [ 1482377.0, 6750783.0 ], [ 1482798.0, 6751083.0 ], [ 1487370.0, 6753489.0 ], [ 1487567.0, 6753163.0 ], [ 1487715.0, 6752862.0 ], [ 1487913.0, 6752585.0 ], [ 1487987.0, 6752435.0 ], [ 1488061.0, 6752359.0 ], [ 1488358.0, 6751982.0 ], [ 1488691.0, 6751568.0 ], [ 1488504.0, 6751457.0 ], [ 1488645.0, 6750283.0 ], [ 1488158.0, 6750000.0 ], [ 1487866.0, 6749805.0 ], [ 1488542.0, 6748681.0 ], [ 1489891.0, 6749557.0 ], [ 1491031.25, 6748290.5 ], [ 1490867.0, 6748159.0 ], [ 1490068.0, 6747508.0 ], [ 1490219.0, 6747259.0 ], [ 1485823.0, 6744730.0 ], [ 1485645.0, 6747004.0 ], [ 1484520.0, 6746928.0 ], [ 1484646.0, 6746403.0 ], [ 1484721.0, 6746403.0 ], [ 1484771.0, 6746378.0 ], [ 1484796.0, 6746328.0 ], [ 1484696.0, 6746203.0 ], [ 1484671.0, 6746153.0 ], [ 1484722.0, 6746053.0 ], [ 1484847.0, 6746003.0 ], [ 1484921.0, 6746103.0 ], [ 1485096.0, 6746128.0 ], [ 1485146.0, 6746128.0 ], [ 1485547.0, 6745204.0 ], [ 1484873.0, 6744904.0 ], [ 1485124.0, 6744304.0 ], [ 1481128.0, 6741951.0 ], [ 1480477.0, 6742775.0 ], [ 1480028.0, 6742374.0 ], [ 1479928.0, 6742349.0 ], [ 1479778.0, 6742324.0 ], [ 1479703.0, 6742224.0 ], [ 1479378.0, 6742349.0 ], [ 1479253.0, 6742124.0 ], [ 1479253.0, 6741974.0 ], [ 1477353.0, 6742246.0 ], [ 1476929.0, 6742171.0 ], [ 1476704.0, 6742146.0 ], [ 1476554.0, 6742145.0 ], [ 1476479.0, 6742320.0 ], [ 1476404.0, 6742320.0 ], [ 1476254.0, 6742295.0 ], [ 1476304.0, 6742120.0 ], [ 1476354.0, 6742070.0 ], [ 1476504.0, 6742021.0 ], [ 1476679.0, 6741896.0 ], [ 1476829.0, 6741921.0 ], [ 1476754.0, 6741571.0 ], [ 1476680.0, 6741471.0 ], [ 1476555.0, 6741446.0 ], [ 1476430.0, 6741421.0 ], [ 1476206.0, 6740896.0 ], [ 1476106.0, 6740421.0 ], [ 1476006.0, 6740396.0 ], [ 1475856.0, 6740446.0 ], [ 1475681.0, 6740445.0 ], [ 1475581.0, 6740395.0 ], [ 1474559.0, 6738720.0 ], [ 1474385.0, 6737695.0 ], [ 1474160.0, 6737820.0 ], [ 1474035.0, 6737919.0 ], [ 1473910.0, 6737844.0 ], [ 1473810.0, 6737694.0 ], [ 1473961.0, 6737320.0 ], [ 1475662.0, 6735972.0 ], [ 1471864.0, 6735618.0 ], [ 1471565.0, 6734843.0 ], [ 1471465.0, 6734643.0 ], [ 1471340.0, 6734493.0 ], [ 1471240.0, 6734468.0 ], [ 1471215.0, 6734518.0 ], [ 1471240.0, 6734668.0 ], [ 1471215.0, 6734718.0 ], [ 1470965.0, 6734692.0 ], [ 1470915.0, 6734717.0 ], [ 1470890.0, 6734742.0 ], [ 1471115.0, 6734917.0 ], [ 1471164.0, 6735117.0 ], [ 1471164.0, 6735242.0 ], [ 1471139.0, 6735292.0 ], [ 1470989.0, 6735417.0 ], [ 1470889.0, 6735492.0 ], [ 1470839.0, 6735517.0 ], [ 1470814.0, 6735567.0 ], [ 1470789.0, 6735692.0 ], [ 1470714.0, 6735767.0 ], [ 1470639.0, 6735717.0 ], [ 1470314.0, 6735566.0 ], [ 1470515.0, 6734942.0 ], [ 1470815.0, 6734642.0 ], [ 1471116.0, 6734143.0 ], [ 1470891.0, 6733943.0 ], [ 1470742.0, 6733718.0 ], [ 1470667.0, 6733567.0 ], [ 1470642.0, 6733493.0 ], [ 1470642.0, 6733417.0 ], [ 1470517.0, 6733317.0 ], [ 1470417.0, 6733367.0 ], [ 1470317.0, 6733392.0 ], [ 1470242.0, 6733417.0 ], [ 1470192.0, 6733442.0 ], [ 1470117.0, 6733417.0 ], [ 1470117.0, 6733267.0 ], [ 1470192.0, 6733142.0 ], [ 1470342.0, 6733017.0 ], [ 1470543.0, 6732793.0 ], [ 1470643.0, 6732893.0 ], [ 1470618.0, 6732968.0 ], [ 1470592.0, 6733068.0 ], [ 1470692.0, 6733118.0 ], [ 1470842.0, 6733093.0 ], [ 1470817.0, 6732993.0 ], [ 1470793.0, 6732893.0 ], [ 1470868.0, 6732868.0 ], [ 1470993.0, 6732843.0 ], [ 1471068.0, 6732818.0 ], [ 1471143.0, 6732593.0 ], [ 1471193.0, 6732344.0 ], [ 1471593.0, 6732444.0 ], [ 1471644.0, 6731269.0 ], [ 1471795.0, 6731195.0 ], [ 1471895.0, 6731070.0 ], [ 1471895.0, 6730845.0 ], [ 1471945.0, 6730770.0 ], [ 1472070.0, 6730745.0 ], [ 1472171.0, 6730321.0 ], [ 1471771.0, 6730270.0 ], [ 1472196.0, 6729671.0 ], [ 1472271.0, 6729696.0 ], [ 1472270.0, 6731070.0 ], [ 1472544.0, 6731146.0 ], [ 1472594.0, 6731246.0 ], [ 1472644.0, 6731421.0 ], [ 1472694.0, 6731396.0 ], [ 1472769.0, 6731346.0 ], [ 1472869.0, 6731346.0 ], [ 1472894.0, 6731396.0 ], [ 1472894.0, 6731521.0 ], [ 1472894.0, 6731621.0 ], [ 1473144.0, 6731771.0 ], [ 1473093.0, 6731996.0 ], [ 1473143.0, 6732071.0 ], [ 1473268.0, 6732196.0 ], [ 1473443.0, 6731921.0 ], [ 1473543.0, 6731996.0 ], [ 1473493.0, 6732096.0 ], [ 1473543.0, 6732171.0 ], [ 1473618.0, 6732196.0 ], [ 1473668.0, 6732021.0 ], [ 1473968.0, 6732072.0 ], [ 1474018.0, 6732097.0 ], [ 1473968.0, 6732197.0 ], [ 1473892.0, 6732422.0 ], [ 1475291.0, 6732873.0 ], [ 1475366.0, 6733073.0 ], [ 1475541.0, 6733323.0 ], [ 1475741.0, 6733398.0 ], [ 1476016.0, 6733324.0 ], [ 1476166.0, 6733199.0 ], [ 1476266.0, 6732999.0 ], [ 1476041.0, 6732874.0 ], [ 1476492.0, 6732100.0 ], [ 1476767.0, 6732150.0 ], [ 1476942.0, 6732225.0 ], [ 1476967.0, 6732300.0 ], [ 1476892.0, 6732400.0 ], [ 1476617.0, 6732300.0 ], [ 1476542.0, 6732300.0 ], [ 1476567.0, 6732450.0 ], [ 1476592.0, 6732525.0 ], [ 1476516.0, 6732674.0 ], [ 1476466.0, 6732774.0 ], [ 1476441.0, 6732874.0 ], [ 1476516.0, 6732924.0 ], [ 1476716.0, 6732850.0 ], [ 1476916.0, 6732800.0 ], [ 1477141.0, 6732600.0 ], [ 1477266.0, 6732475.0 ], [ 1477317.0, 6732350.0 ], [ 1477517.0, 6732401.0 ], [ 1477642.0, 6732301.0 ], [ 1477617.0, 6732101.0 ], [ 1477667.0, 6731826.0 ], [ 1477717.0, 6731726.0 ], [ 1477767.0, 6731676.0 ], [ 1477768.0, 6731476.0 ], [ 1477668.0, 6731401.0 ], [ 1477768.0, 6731127.0 ], [ 1477868.0, 6730852.0 ], [ 1478069.0, 6730602.0 ], [ 1478244.0, 6730377.0 ], [ 1478419.0, 6730302.0 ], [ 1478569.0, 6730278.0 ], [ 1478769.0, 6730303.0 ], [ 1478944.0, 6730253.0 ], [ 1478894.0, 6730053.0 ], [ 1478769.0, 6730003.0 ], [ 1478695.0, 6729928.0 ], [ 1478720.0, 6729703.0 ], [ 1478895.0, 6729603.0 ], [ 1479045.0, 6729603.0 ], [ 1479144.0, 6730078.0 ], [ 1479319.0, 6730054.0 ], [ 1478996.0, 6729129.0 ], [ 1478771.0, 6729129.0 ], [ 1478771.0, 6728928.0 ], [ 1478871.0, 6728754.0 ], [ 1478722.0, 6728329.0 ], [ 1477973.0, 6727278.0 ], [ 1476450.0, 6726302.0 ], [ 1474128.0, 6724775.0 ], [ 1473503.0, 6724350.0 ], [ 1472480.0, 6723399.0 ], [ 1469055.0, 6723545.0 ], [ 1465958.0, 6722517.0 ], [ 1465883.0, 6722642.0 ], [ 1465633.0, 6722641.0 ], [ 1463182.0, 6723888.0 ], [ 1462556.0, 6724262.0 ], [ 1462381.0, 6724362.0 ], [ 1462281.0, 6724412.0 ], [ 1462256.0, 6724512.0 ], [ 1460006.0, 6724684.0 ], [ 1459781.0, 6724684.0 ], [ 1459706.0, 6724509.0 ], [ 1459657.0, 6724359.0 ], [ 1459657.0, 6724184.0 ], [ 1459632.0, 6724034.0 ], [ 1459408.0, 6723709.0 ], [ 1459283.0, 6723284.0 ], [ 1459159.0, 6723059.0 ], [ 1459009.0, 6723059.0 ], [ 1458409.0, 6723133.0 ], [ 1458359.0, 6722758.0 ], [ 1458285.0, 6722483.0 ], [ 1458085.0, 6722108.0 ], [ 1458010.0, 6721833.0 ], [ 1457986.0, 6721708.0 ], [ 1458011.0, 6721558.0 ], [ 1457911.0, 6721383.0 ], [ 1457836.0, 6721258.0 ], [ 1457787.0, 6721058.0 ], [ 1457712.0, 6720908.0 ], [ 1457537.0, 6720933.0 ], [ 1457412.0, 6721033.0 ], [ 1457312.0, 6721133.0 ], [ 1457212.0, 6721133.0 ], [ 1457062.0, 6721107.0 ], [ 1456637.0, 6720857.0 ], [ 1456562.0, 6720782.0 ], [ 1456438.0, 6720182.0 ], [ 1456463.0, 6720057.0 ], [ 1456513.0, 6720032.0 ], [ 1456314.0, 6719657.0 ], [ 1456114.0, 6719657.0 ], [ 1456114.0, 6719582.0 ], [ 1456164.0, 6719507.0 ], [ 1454916.0, 6718406.0 ], [ 1450298.0, 6714178.0 ], [ 1449898.0, 6714127.0 ], [ 1447998.0, 6714625.0 ], [ 1446247.0, 6715123.0 ], [ 1444347.0, 6715795.0 ], [ 1443197.0, 6715944.0 ], [ 1439947.0, 6716390.0 ], [ 1435399.0, 6716310.0 ], [ 1435023.0, 6716459.0 ], [ 1431198.0, 6717605.0 ], [ 1430448.0, 6717829.0 ], [ 1428270.0, 6720250.0 ], [ 1422413.0, 6726841.0 ], [ 1421282.0, 6731463.0 ], [ 1424006.0, 6731566.0 ], [ 1426252.0, 6734442.0 ], [ 1426950.0, 6735392.0 ], [ 1431445.0, 6738421.0 ], [ 1434839.0, 6741999.0 ], [ 1436786.0, 6744150.0 ], [ 1437867.0, 6745335.0 ], [ 1439410.660048190038651, 6746051.379894900135696 ], [ 1439426.75, 6745993.5 ], [ 1439496.5, 6745423.5 ], [ 1439686.379999999888241, 6744823.5 ], [ 1440036.5, 6744313.5 ], [ 1440226.25, 6743553.0 ], [ 1439965.75, 6742983.0 ], [ 1439685.25, 6742532.5 ], [ 1439715.129999999888241, 6742252.5 ], [ 1440195.25, 6741642.5 ], [ 1440325.379999999888241, 6741522.5 ], [ 1440545.25, 6740852.5 ], [ 1440675.25, 6740662.5 ], [ 1440895.370000000111759, 6740442.5 ], [ 1441055.379999999888241, 6740182.5 ], [ 1441305.629999999888241, 6740252.5 ], [ 1441626.0, 6740472.5 ], [ 1441726.25, 6740792.5 ], [ 1441756.75, 6741773.0 ], [ 1441697.0, 6742223.0 ], [ 1441407.129999999888241, 6743013.5 ], [ 1441627.5, 6743333.5 ], [ 1441877.75, 6743393.5 ], [ 1442108.120000000111759, 6743833.5 ], [ 1442358.5, 6744094.0 ], [ 1442578.629999999888241, 6744034.0 ], [ 1442708.75, 6743874.0 ], [ 1442838.629999999888241, 6743454.0 ], [ 1443288.5, 6742413.5 ], [ 1443848.75, 6741843.5 ], [ 1444298.879999999888241, 6741203.5 ], [ 1444489.0, 6741143.5 ], [ 1444679.25, 6741203.5 ], [ 1444779.370000000111759, 6741394.0 ], [ 1444749.620000000111759, 6741774.0 ], [ 1444649.75, 6742284.0 ], [ 1444710.25, 6743204.0 ], [ 1444650.370000000111759, 6743584.5 ], [ 1444390.370000000111759, 6744094.5 ], [ 1444170.25, 6744284.5 ], [ 1443850.120000000111759, 6744694.5 ], [ 1443760.25, 6745014.5 ], [ 1443880.379999999888241, 6745144.5 ], [ 1444010.5, 6745174.5 ], [ 1444270.75, 6745114.5 ], [ 1444711.0, 6744894.5 ], [ 1445161.379999999888241, 6744854.5 ], [ 1445571.75, 6744955.0 ], [ 1446432.75, 6745245.0 ], [ 1447133.5, 6745555.5 ], [ 1447193.5, 6745555.5 ], [ 1447674.0, 6745715.5 ], [ 1448244.620000000111759, 6745875.5 ], [ 1448945.25, 6745846.0 ], [ 1449806.120000000111759, 6746096.0 ], [ 1450887.0, 6746076.0 ], [ 1451397.379999999888241, 6745846.0 ], [ 1451557.379999999888241, 6745656.0 ], [ 1451777.5, 6745346.0 ], [ 1451997.5, 6745056.0 ], [ 1451996.370000000111759, 6742486.0 ], [ 1452196.25, 6741695.5 ], [ 1452286.120000000111759, 6741125.5 ], [ 1452315.879999999888241, 6740455.5 ], [ 1452475.75, 6739815.5 ], [ 1452545.5, 6739155.5 ], [ 1452385.25, 6738895.5 ], [ 1452135.0, 6738835.0 ], [ 1451744.629999999888241, 6738935.0 ], [ 1451364.379999999888241, 6739155.0 ], [ 1450984.25, 6739565.0 ], [ 1450604.0, 6739695.0 ], [ 1450193.629999999888241, 6739625.0 ], [ 1449843.120000000111759, 6739374.5 ], [ 1449713.0, 6739304.5 ], [ 1449492.870000000111759, 6739434.5 ], [ 1449232.629999999888241, 6739464.5 ], [ 1448601.879999999888241, 6739154.5 ], [ 1448211.5, 6738894.0 ], [ 1448251.370000000111759, 6738574.0 ], [ 1448571.5, 6738164.0 ], [ 1448691.5, 6737914.0 ], [ 1449111.629999999888241, 6737534.0 ], [ 1449421.870000000111759, 6737464.0 ], [ 1450122.629999999888241, 6737624.5 ], [ 1450382.870000000111759, 6737724.5 ], [ 1451113.75, 6738045.0 ], [ 1452294.879999999888241, 6738295.0 ], [ 1452925.629999999888241, 6738645.5 ], [ 1453115.75, 6738615.5 ], [ 1453215.75, 6738325.5 ], [ 1453215.379999999888241, 6737475.5 ], [ 1453465.120000000111759, 6736425.0 ], [ 1453304.879999999888241, 6736045.0 ], [ 1453434.75, 6735565.0 ], [ 1454585.129999999888241, 6733955.0 ], [ 1454805.25, 6733755.0 ], [ 1454935.5, 6733825.0 ], [ 1455065.620000000111759, 6734045.5 ], [ 1455056.0, 6735025.5 ], [ 1455126.120000000111759, 6735155.5 ], [ 1454966.129999999888241, 6735535.5 ], [ 1454836.379999999888241, 6736335.5 ], [ 1454706.379999999888241, 6736715.5 ], [ 1454266.25, 6737405.5 ], [ 1454136.75, 6738805.5 ], [ 1454007.0, 6739696.0 ], [ 1453977.5, 6741126.0 ], [ 1454038.0, 6742106.0 ], [ 1453848.0, 6742426.0 ], [ 1453718.0, 6742806.0 ], [ 1453818.25, 6742996.5 ], [ 1454008.5, 6743316.5 ], [ 1454128.75, 6743566.5 ], [ 1454799.370000000111759, 6743886.5 ], [ 1454989.629999999888241, 6744136.5 ], [ 1454989.75, 6744426.5 ], [ 1454739.75, 6744807.0 ], [ 1454509.629999999888241, 6745056.5 ], [ 1454579.870000000111759, 6745407.0 ], [ 1454890.379999999888241, 6746077.0 ], [ 1454990.620000000111759, 6746427.0 ], [ 1455050.879999999888241, 6746937.0 ], [ 1455151.120000000111759, 6747347.0 ], [ 1455371.5, 6747567.0 ], [ 1456072.129999999888241, 6747697.5 ], [ 1456482.379999999888241, 6747697.5 ], [ 1456932.620000000111759, 6747347.5 ], [ 1457663.120000000111759, 6746877.5 ], [ 1457983.25, 6746777.5 ], [ 1458904.129999999888241, 6746998.0 ], [ 1459385.498256709892303, 6747798.989944039843976 ] ] ], [ [ [ 1448664.280741350026801, 6751990.825643469579518 ], [ 1449210.0, 6752681.0 ], [ 1449104.0, 6753705.0 ], [ 1449747.0, 6754808.0 ], [ 1449997.0, 6754735.0 ], [ 1450147.0, 6754761.0 ], [ 1450198.0, 6754586.0 ], [ 1450224.0, 6754436.0 ], [ 1450225.0, 6754236.0 ], [ 1450126.0, 6754011.0 ], [ 1450152.0, 6753886.0 ], [ 1450153.0, 6753711.0 ], [ 1450179.0, 6753586.0 ], [ 1450304.0, 6753537.0 ], [ 1450430.0, 6753363.0 ], [ 1450505.0, 6753288.0 ], [ 1450630.0, 6753239.0 ], [ 1450881.0, 6753191.0 ], [ 1451081.0, 6753117.0 ], [ 1451231.0, 6753068.0 ], [ 1451382.0, 6752919.0 ], [ 1451533.0, 6752645.0 ], [ 1451610.0, 6752321.0 ], [ 1451662.0, 6752096.0 ], [ 1451537.0, 6751995.0 ], [ 1451438.0, 6751920.0 ], [ 1451338.0, 6751844.0 ], [ 1451238.0, 6751819.0 ], [ 1451114.0, 6751818.0 ], [ 1451039.0, 6751792.0 ], [ 1451115.0, 6751643.0 ], [ 1451090.0, 6751543.0 ], [ 1451116.0, 6751418.0 ], [ 1451241.0, 6751369.0 ], [ 1451417.0, 6751245.0 ], [ 1451492.0, 6751195.0 ], [ 1451617.0, 6751221.0 ], [ 1451691.0, 6751297.0 ], [ 1451766.0, 6751322.0 ], [ 1451966.0, 6751248.0 ], [ 1452067.0, 6751174.0 ], [ 1452118.0, 6750999.0 ], [ 1452193.0, 6750875.0 ], [ 1452269.0, 6750750.0 ], [ 1452319.0, 6750701.0 ], [ 1452420.0, 6750651.0 ], [ 1452424.535450489958748, 6750646.525022179819643 ], [ 1452190.0, 6750427.0 ], [ 1452009.879999999888241, 6750337.0 ], [ 1451519.25, 6750037.0 ], [ 1451078.879999999888241, 6749877.0 ], [ 1450788.620000000111759, 6749877.0 ], [ 1450308.25, 6750107.0 ], [ 1449958.129999999888241, 6750457.0 ], [ 1449608.129999999888241, 6751027.0 ], [ 1448817.75, 6751787.0 ], [ 1448664.280741350026801, 6751990.825643469579518 ] ] ] ] }</textarea>
    <script>
        var map_options = {};

            var base_layer = new ol.layer.Tile({
                source: new ol.source.XYZ({
                    attributions: "NASA Worldview",
                    maxZoom: 8,
                    url: "https://map1{a-c}.vis.earthdata.nasa.gov/wmts-webmerc/" +
                         "BlueMarble_ShadedRelief_Bathymetry/default/%7BTime%7D/" +
                         "GoogleMapsCompatible_Level8/{z}/{y}/{x}.jpg"
                })
            });

        var options = {
            base_layer: base_layer,
            geom_name: 'MultiPolygon',
            id: 'id_mpoly',
            map_id: 'id_mpoly_map',
            map_options: map_options,
            map_srid: 3857,
            name: 'mpoly'
        };

        var geodjango_mpoly = new MapWidget(options);
    </script>
</div>
{% endif %}
{% endif %}

</body>

</html>